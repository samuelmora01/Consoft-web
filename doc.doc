ConSoft – Guía rápida (local)

Este repo contiene dos proyectos:
- ConSoft_API-main → Backend (Node + Express + MongoDB)
- Consoft_Cliente-main → Frontend (Next.js)

Sigue estos pasos tal cual.

## 1) Requisitos
- Node.js 18+ (LTS): https://nodejs.org
- MongoDB local (recomendado) o una URI de Atlas
  - macOS con Homebrew: brew tap mongodb/brew && brew install mongodb-community@7.0 && brew services start mongodb/brew/mongodb-community@7.0
  - Windows: Instala MongoDB Community Server y arráncalo (puerto 27017 por defecto)

## 2) Backend (API) – puerto 3001
En terminal (macOS/Linux):
1) cd ConSoft_API-main
2) Crear .env con desarrollo local:
   cat > .env << 'EOF'
   NODE_ENV=development
   PORT=3001
   MONGO_URI=mongodb://127.0.0.1:27017/consoft
   JWT_SECRET=dev-secret
   FRONTEND_ORIGINS=http://localhost:3000
   EOF
3) Instalar dependencias y seed de usuario demo:
   npm install
   npm run seed
4) Arrancar API en dev:
   npm run start
   (Deberías ver: "MongoDB connected" y "Server running on http://localhost:3001")

En Windows PowerShell:
1) cd ConSoft_API-main
2) Crear .env:
   @"
   NODE_ENV=development
   PORT=3001
   MONGO_URI=mongodb://127.0.0.1:27017/consoft
   JWT_SECRET=dev-secret
   FRONTEND_ORIGINS=http://localhost:3000
   "@ | Out-File -Encoding utf8 .env
3) Instalar y seed:
   npm install
   npm run seed
4) Arrancar:
   npm run start

Usuario demo creado por el seed:
- Email: demo@consoft.com
- Password: Demo1234!

## 3) Frontend (cliente) – puerto 3000
En otra terminal (macOS/Linux):
1) cd Consoft_Cliente-main
2) Crear .env.local:
   echo "NEXT_PUBLIC_API_BASE_URL=http://localhost:3001" > .env.local
3) Instalar y arrancar:
   npm install
   npm run dev
4) Abrir: http://localhost:3000/client

En Windows PowerShell:
1) cd Consoft_Cliente-main
2) Crear .env.local:
   "NEXT_PUBLIC_API_BASE_URL=http://localhost:3001" | Out-File -Encoding utf8 .env.local
3) Instalar y arrancar:
   npm install
   npm run dev
4) Abrir: http://localhost:3000/client

## 4) Pruebas rápidas
- Health API: curl http://localhost:3001/health
- Login web: http://localhost:3000/client/auth/login (usar el usuario demo)

## 5) Notas
- CORS/credenciales: FRONTEND_ORIGINS debe incluir el origen del cliente (http://localhost:3000 en local).
- En producción (HTTPS), las cookies se marcan secure y sameSite=none; ajusta FRONTEND_ORIGINS y dominios.
- Si usas Atlas, sustituye MONGO_URI en .env del backend por tu cadena de conexión.